<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<link rel="stylesheet" href="md.css" type="text/css">

<title>10. Importing Data into GEMPAK</title>

</head>
<body>
<blockquote><p><a href=/gempak/tutorial/>GEMPAK Online Tutorial</a></p></blockquote>

<h1>10. Importing Data into GEMPAK</h1>

<p>The GEMPAK "EDIT" programs can be used to import non-standard data sets into GEMPAK, as well as to modify data values already in GEMPAK files. To modify exiting GEMPAK files, you will need to list the data out into ASCII format using one of the listing programs.</p>

<p>Some notes:</p>

<ol>
<li><code>SFEDIT</code> requires a surface data file already exists</li>
<li><code>SNEDIT</code> will create a file if one does not already exist</li>
<li><p>To import research data sets with stations that aren't present in the standard GEMPAK station tables, you will have to create your own station tables.</p></li>
</ol>


<p><a name="10.1"></a></p>

<h2>Importing Raw Surface Data</h2>

<p>If you want to import research data sets which contain special PAM, MESONET, Aircraft, Dropsonde, or other special station locations, you will need to create a station table that including station locations.</p>

<p>Importing surface data always requires that SFCFIL be used in advance to create a file for the new dataset.</p>

<p>When you create your new GEMPAK file, the program asks for the name of a station file. For research datasets, it is probable that special sensor locations will not be in any of the distributed tables. When creating your own station tables follow the format used in provided station tables.</p>

<p><a name="10.2"></a></p>

<h2>Exercise #14 (Import Surface Data)</h2>

<p><a href="data/astex_1.raw">Here is a sample</a> of aircraft data collected during a field experiment:</p>

<pre><code>DATE        LAT    LON      PRES     HGHT     TMPC     DWPC     SSTC     SPED     DRCT
21.9361   37.04 -25.20    975.58   433.78    14.37    11.54    17.49     5.62    78.27
21.9389   37.05 -25.20    965.67   520.66    13.58    11.08    17.48     4.45    83.18
21.9417   37.06 -25.20    956.32   601.89    13.22     9.09    17.49     4.18    88.79
21.9444   37.06 -25.21    948.71    21.58    12.70     8.32    17.51     3.82    81.65
21.9472   37.07 -25.21    942.53    21.58    12.36     7.60    17.37     4.56    85.96
21.9500   37.08 -25.21    937.86   189.88    12.19     6.20    17.31     4.41    82.84
21.9528   37.09 -25.22    932.87   814.19    12.40     4.69    17.17     4.44    82.12
21.9556   37.10 -25.22    927.48   863.54    12.17     4.92    17.20     4.20    73.18
21.9583   37.11 -25.22    919.45   934.24    11.74     4.94    17.26     3.83    61.57
21.9611   37.12 -25.23    911.19  1010.74    11.26     5.16    17.17     3.85    58.72
</code></pre>

<p>We would like to represent this data as a GEMPAK surface file so thatwe can plot the flight track and sea surface temperature along the path of the aircraft as individual surface station reports.</p>

<ol>
<li><p>Generate a surface station table and surface data file from the aircraft data. You will need to convert your raw data into the appropriate format to be read by GEMPAK (see the included data file below):</p>

<p>  Here are the <a href="data/astex_1.tbl">Station Table</a> and <a href="data/astex_1.dat">Data file</a> I created.</p></li>
<li><p>Using <code>sfcfil</code>, create an empty GEMPAK surface file:</p>

<pre><code> &gt; sfcfil
 sfoutf = test_data.sfc
 sfprmf = HOUR;PRES;HGHT;TMPC;DWPC;SSTC;SPED;DRCT
 stnfil = astex_1.tbl
 SHIPFL = no
 TIMSTN =  
 SFFSRC = text
 GEMPAK-SFCFIL&gt;r

 SFCFIL PARAMETERS: 

 New surface file:      data.sfc              
 Parameter file:        HOUR;PRES;HGHT;TMPC;DWPC;SSTC;SPED;DRCT  
 Station file:      
 Number of stations in STNFIL:    1412
 Number of additional stations:      0
 Total number of stations:        1412
 Total number of times:              1

 This file will be a standard surface file.

 Enter &lt;cr&gt; to accept parameters or type EXIT:
 The file has been created.
</code></pre>

<p> This creates the file <code>test_data.sfc</code> in the current working directory.</p>

<blockquote><p><img src="warning.gif" width=30 align=left> Be sure that <code>SFPRMF</code> is defined exactly how parameters are listed in your surface station file!</p></blockquote></li>
<li><p>Using <code>SFEDIT</code>, import the data file into the newly created GEMPAK surface file:</p>

<pre><code> &gt; sfedit
 sfefil   = astex_1.dat
 sffile   = test_data.sfc
 GEMPAK-SFEDIT&gt;r

  SFEDIT PARAMETERS: 

  Edit file:           astex_1.dat                                                   
  Output surface file: test_data.sfc                                                  

  Parameters to be added to file:

  HOUR PRES HGHT TMPC DWPC SSTC SPED DRCT
 Enter &lt;cr&gt; to accept parameters or type EXIT:
</code></pre>

<p> Check your <code>test_data.sfc</code> file in the present working directory, it should be much larger in size!</p>

<p> You can compare <code>test_data.sfc</code> file with a <a href="/gempak/tutorial/data/astex_1.gem">pre-generated GEMPAK file</a> from the above data.</p>

<p> Want to see if it worked? Try plotting the data using <code>SFMAP</code>.</p>

<p> You will need to define <code>AREA</code> and <code>GAREA</code> for the dataset (look at the lat/lon in the raw file to get an idea of an approximate area). You may also want to limit <code>SFPARM</code> to only one or two parameters to begin</p></li>
</ol>


<blockquote><p><a href=/gempak/tutorial/>GEMPAK Online Tutorial</a> | <a href="objective_analysis.html">Next: Objective Analysis</a></p></blockquote>
<script src="/gempak/add_in.js" type="text/javascript"></script>
</body>
</html>
