<!doctype html><head><title>GEMPAK Help: sfmap</title></head><body>
<a href=../../help_and_documentation>GEMPAK Manual</a> | 
<a href=../prog/>Programs</a><br><hr>
<pre>
SFMAP plots surface station data on a map.

INPUT PARAMETERS
 
    <a href=../parm/area.html>AREA</a>      Data area
    <a href=../parm/garea.html>GAREA</a>     Graphics area
    <a href=../parm/satfil.html>SATFIL</a>    Satellite image filename(s)
    <a href=../parm/radfil.html>RADFIL</a>    Radar image filename(s)
    <a href=../parm/imcbar.html>IMCBAR</a>    Color/ornt/anch/x;y/ln;wd/freq
    <a href=../parm/sfparm.html>SFPARM</a>    Surface parameter list
    <a href=../parm/dattim.html>DATTIM</a>    Date/time
    <a href=../parm/sffile.html>SFFILE</a>    Surface data file
    <a href=../parm/colors.html>COLORS</a>    Color list
    <a href=../parm/map.html>MAP</a>       Map color/dash/width/filter flag
    <a href=../parm/mscale.html>MSCALE</a>    fgc;bgc;mask/units/lat;hide/values/anch/x;y/ln;wd/freq|text_info|t
    <a href=../parm/latlon.html>LATLON</a>    Line color/dash/width/freq/inc/label/format
    <a href=../parm/title.html>TITLE</a>     Title color/line/title
    <a href=../parm/clear.html>CLEAR</a>     Clear screen flag
    <a href=../parm/panel.html>PANEL</a>     Panel loc/color/dash/width/regn
    <a href=../parm/device.html>DEVICE</a>    Device|name|x size;y size|color type
    <a href=../parm/proj.html>PROJ</a>      Map projection/angles/margins|drop flag
    <a href=../parm/filter.html>FILTER</a>    Filter data factor
    <a href=../parm/text.html>TEXT</a>      Size/fnt/wdth/brdr/N-rot/just/hw flg
    <a href=../parm/lutfil.html>LUTFIL</a>    Enhancement lookup table filename
    <a href=../parm/stnplt.html>STNPLT</a>    Txtc/txt attr|marker attr|stnfil#col
    <a href=../parm/clrbar.html>CLRBAR</a>    Color/ornt/anch/x;y/ln;wd/freq|text_info
    <a href=../parm/lstprm.html>LSTPRM</a>    Filtered parm|x;y|<a href=../parm/text.html>TEXT</a> info
 
 

PROGRAM DESCRIPTION
 
    SFMAP plots data at station locations on a map.  Any
    parameter that can be computed from the parameters in
    the data set can be displayed.  Conditions can be specified
    for the parameters.  The conditions are documented in the
    <a href=../parm/sfparm.html>SFPARM</a> documentation.  Data may be plotted in any
    valid GEMPAK projection and may be overlaid on images.
    A set of multiple surface files separated with a '+' may be
    given for <a href=../parm/sffile.html>SFFILE</a>. The string length of multiple files should
    not exceed 128 characters.

    A list of times may be given in <a href=../parm/dattim.html>DATTIM</a> allowing animation of
    surface plots for a single file. Multiple files containing
    different observations can be filtered with a common filter
    for a single <a href=../parm/dattim.html>DATTIM</a>. Multiple files will not work for multiple
    times.

    The order of the input parameters determines their location
    on the plot.  Parameters are separated by semicolons.  A
    position may be skipped by entering two consecutive semicolons
    or entering the name SPAC or BLNK.  A parameter will be
    plotted centered at the station if it is the first parameter
    in the list, for example, if <a href=../parm/sfparm.html>SFPARM</a> = SKYC, the sky cover symbol
    will be plotted centered on the station location.  If no
    parameter is to be displayed centered on the station location,
    a semicolon must appear before the first parameter listed.
    SPAC or BLNK may also be entered.  The following chart shows
    the location on the model of each position.

				8
			2	10	4
			3	1	5
			6	11	7
				9

    Note that wind symbols and markers are always plotted at the center
    of the station model.

    If <a href=../parm/filter.html>FILTER</a> is set to YES, the stations will be filtered so that
    overlapping stations will not be plotted.  <a href=../parm/filter.html>FILTER</a> may also be
    entered as a number greater than or equal to zero.  <a href=../parm/filter.html>FILTER</a> = NO
    has the same effect as <a href=../parm/filter.html>FILTER</a> = 0.  <a href=../parm/filter.html>FILTER</a> = 1 has the same
    effect as <a href=../parm/filter.html>FILTER</a> = YES.  Values less than 1 allow more crowding
    of stations, values exceeding 1 less crowding.  If a position
    is skipped using two semicolons or if the parameter is BLNK, the
    filter will not allocate the space.  The parameter SPAC may be
    used to reserve the space with the filter option.  Then later
    plots will plot the same stations after filtering, provided
    that the same parameter locations are specified.

    If certain stations are not to be removed by the filter, these
    stations are listed first following an @.  The area over which
    filtering is to occur is specified after a slash.  For example,

			<a href=../parm/area.html>AREA</a>   = @bwi;iad;dca/md
			<a href=../parm/filter.html>FILTER</a> = YES

    will display a filtered array of stations over the area
    corresponding to MD, but BWI, IAD and DCA will be shown
    regardless of the filtering.

    Weather symbols can also be plotted.  The size and width of
    the symbols can be specified by appending the numbers to the
    parameter name using a colon as a separator.  For example,
    WSYM:2:5 will plot weather symbols with size of 2. and line
    width of 5.

    Other symbols can be specified in a similar way.  The names for
    the pressure tendency, sky cover, cloud type, weather and wind
    symbols and how their characteristics are set are given in the
    <a href=../parm/sfparm.html>SFPARM</a> documentation.

    Parameters can be color-coded based on their own value or on
    the value of any other computable parameter.  Refer to the
    <a href=../parm/colors.html>COLORS</a> documentation for details.  If one or more parameters
    are color-coded, a color bar will be displayed for the first
    color-coded parameter.

 
EXAMPLES
 
    1.  Display the visible satellite image from 18Z and overlay
	the surface data for the area covered by the image.  Plot
	a standard station model for each location in the data set.
	The surface data to plot include: 1) sky cover symbol;
	2) temperature in Fahrenheit; 3) weather symbol; 4) coded
	mean sea level pressure; 5) pressure tendency with symbol;
	6) dewpoint in Fahrenheit; 6) station ID; 7) visibility;
	and 8) wind barbs in knots.  The data are plotted using the
	specified color list.

	<a href=../parm/area.html>AREA</a>	 =  us
	<a href=../parm/garea.html>GAREA</a>	 =  dset
	<a href=../parm/satfil.html>SATFIL</a>	 =  $GEMPAK/data/VIS_910819_1801
	<a href=../parm/radfil.html>RADFIL</a>	 =
	<a href=../parm/imcbar.html>IMCBAR</a>   =  1/V/LL/0;.05/.90
	<a href=../parm/sfparm.html>SFPARM</a>	 =  skyc:.75;tmpf;wsym:.75;smsl;ptnd;dwpf;stid;;vsby*10;brbk:1:2;mark:2
	<a href=../parm/dattim.html>DATTIM</a>	 =  910819/1800
	<a href=../parm/sffile.html>SFFILE</a>	 =  $GEMPAK/data/hrcbob.sfc
	<a href=../parm/colors.html>COLORS</a>	 =  26;2;7;25;20;22;18;24;6
	<a href=../parm/map.html>MAP</a>	 =  1
	<a href=../parm/latlon.html>LATLON</a>	 =  2/10/1/1/5;5
	<a href=../parm/title.html>TITLE</a>	 =  1
	<a href=../parm/clear.html>CLEAR</a>	 =  yes
	<a href=../parm/panel.html>PANEL</a>	 =  0
	<a href=../parm/device.html>DEVICE</a>	 =  xw
	<a href=../parm/proj.html>PROJ</a>	 =  sat
	<a href=../parm/filter.html>FILTER</a>	 =  1
	<a href=../parm/text.html>TEXT</a>	 =  1/22//hw
	<a href=../parm/lutfil.html>LUTFIL</a>   =
	<a href=../parm/stnplt.html>STNPLT</a>   =
	<a href=../parm/clrbar.html>CLRBAR</a>	 =
	<a href=../parm/lstprm.html>LSTPRM</a>   =

    2.  Using the above specifications, change the area to New Jersey.
	The satellite image will be subset and replotted with the data
	for that area.  Change the filter factor to allow more stations
	to be plotted.

	<a href=../parm/area.html>AREA</a>	 =  nj-
	<a href=../parm/garea.html>GAREA</a>	 =  nj
	<a href=../parm/satfil.html>SATFIL</a>	 =  $GEMPAK/data/VIS_910819_1801
	<a href=../parm/radfil.html>RADFIL</a>	 =
	<a href=../parm/imcbar.html>IMCBAR</a>   =  1/V/LL/0;.05/.90
	<a href=../parm/sfparm.html>SFPARM</a>	 =  skyc:.75;tmpf;wsym:.75;smsl;ptnd;dwpf;stid;;vsby*10;brbk:1:2;mark:4
	<a href=../parm/dattim.html>DATTIM</a>	 =  910819/1800
	<a href=../parm/sffile.html>SFFILE</a>	 =  $GEMPAK/data/hrcbob.sfc
	<a href=../parm/colors.html>COLORS</a>	 =  26;2;7;25;20;22;18;24;6
	<a href=../parm/map.html>MAP</a>	 =  1
	<a href=../parm/latlon.html>LATLON</a>	 =  2/10/1/1/5;5
	<a href=../parm/title.html>TITLE</a>	 =  1
	<a href=../parm/clear.html>CLEAR</a>	 =  yes
	<a href=../parm/panel.html>PANEL</a>	 =  0
	<a href=../parm/device.html>DEVICE</a>	 =  xw
	<a href=../parm/proj.html>PROJ</a>	 =  sat
	<a href=../parm/filter.html>FILTER</a>	 =  .45
	<a href=../parm/text.html>TEXT</a>	 =  1/22//hw
	<a href=../parm/lutfil.html>LUTFIL</a>   =
	<a href=../parm/stnplt.html>STNPLT</a>   =
	<a href=../parm/clrbar.html>CLRBAR</a>   =
	<a href=../parm/lstprm.html>LSTPRM</a>   =

    3.  Using the previous specifications, vary the color of the weather
	symbols by color coding them according to their precipitation type.
        To make them more discernible, omit using the satellite image
	and change the map projection.

	<a href=../parm/area.html>AREA</a>	 =  nj-
	<a href=../parm/garea.html>GAREA</a>	 =  nj
	<a href=../parm/satfil.html>SATFIL</a>	 =
	<a href=../parm/radfil.html>RADFIL</a>	 =
	<a href=../parm/imcbar.html>IMCBAR</a>   =
	<a href=../parm/sfparm.html>SFPARM</a>	 =  skyc:.75;tmpf;wsym:.75;smsl;ptnd;dwpf;stid;;vsby*10;brbk:1:2;mark:4
	<a href=../parm/dattim.html>DATTIM</a>	 =  910819/1800
	<a href=../parm/sffile.html>SFFILE</a>	 =  $GEMPAK/data/hrcbob.sfc
	<a href=../parm/colors.html>COLORS</a>	 =  26;2;(19-90-10/17;6;8;17;3;3;1;22;2);25;20;22;18;24;6
	<a href=../parm/map.html>MAP</a>	 =  1
	<a href=../parm/latlon.html>LATLON</a>	 =  2/10/1/1/5;5
	<a href=../parm/title.html>TITLE</a>	 =  1
	<a href=../parm/clear.html>CLEAR</a>	 =  yes
	<a href=../parm/panel.html>PANEL</a>	 =  0
	<a href=../parm/device.html>DEVICE</a>	 =  xw
	<a href=../parm/proj.html>PROJ</a>	 =  mer
	<a href=../parm/filter.html>FILTER</a>	 =  .45
	<a href=../parm/text.html>TEXT</a>	 =  1/22//hw
	<a href=../parm/lutfil.html>LUTFIL</a>   =
	<a href=../parm/stnplt.html>STNPLT</a>   =
	CLABAR   =
	<a href=../parm/lstprm.html>LSTPRM</a>   =

    4.  Different example using the multiple files for <a href=../parm/sffile.html>SFFILE</a> = synop + metar
        setting <a href=../parm/dattim.html>DATTIM</a> = 12, <a href=../parm/sfparm.html>SFPARM</a> = SKYC;TMPF;WSYM;PMSL;;DWPF;BRBK and the
        edge plotting of TMPF data <a href=../parm/lstprm.html>LSTPRM</a> = TMPF|0.8;0.9|0.75
        Edge plotting of data is available only for the first file "synop".

        <a href=../parm/area.html>AREA</a>     = WV
        <a href=../parm/garea.html>GAREA</a>    = WV
        <a href=../parm/satfil.html>SATFIL</a>   =
        <a href=../parm/radfil.html>RADFIL</a>   =
        <a href=../parm/imcbar.html>IMCBAR</a>   =
        <a href=../parm/sffile.html>SFFILE</a>   = synop + metar
        <a href=../parm/dattim.html>DATTIM</a>   = 12
        <a href=../parm/sfparm.html>SFPARM</a>   = SKYC;TMPF;WSYM;PMSL;;DWPF;BRBK
        <a href=../parm/lstprm.html>LSTPRM</a>   = tmpf|0.8;0.9|0.75
        <a href=../parm/colors.html>COLORS</a>   = 23;2;3
        <a href=../parm/map.html>MAP</a>      = 1
        <a href=../parm/mscale.html>MSCALE</a>   = 0
        <a href=../parm/latlon.html>LATLON</a>   =
        <a href=../parm/title.html>TITLE</a>    = 1
        <a href=../parm/clear.html>CLEAR</a>    = yes
        <a href=../parm/panel.html>PANEL</a>    = 0
        <a href=../parm/device.html>DEVICE</a>   = gif|sfmap_synop_metar.gif | 1800;1300
        <a href=../parm/proj.html>PROJ</a>     = MER
        <a href=../parm/filter.html>FILTER</a>   = 1.0
        <a href=../parm/text.html>TEXT</a>     = 1
        <a href=../parm/lutfil.html>LUTFIL</a>   =
        <a href=../parm/stnplt.html>STNPLT</a>   =
        <a href=../parm/clrbar.html>CLRBAR</a>   =

ERROR MESSAGES
 
    [SFMAP  -1]     Fatal error initializing TAE.
    [SFMAP  -2]     Fatal error reading TAE parameters.
    [SFMAP  -3]     Fatal error initializing GEMPLT.
    [SFMAP  -4]     Parameter ... is not calculable.
    [SFMAP  -5]     Winds are not calculable.
    [SFMAP  -6]     Multiple files do not allow multiple times.
</pre>
<script src="/gempak/add_in.js" type="text/javascript"></script>
</body>
</html>
