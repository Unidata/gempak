<HTML><HEAD><TITLE>GEMPAK Ensemble Examples</TITLE>
<META NAME="BOOKMARK" CONTENT="GEMPAK Ensemble Examples">
<META NAME="AUTHOR" CONTENT="Steve Chiswell">
<META NAME="KEYWORDS" CONTENT="Software, GEMPAK, Examples, Ensemble">
<META NAME="DESCRIPTION" CONTENT="GEMPAK Ensemble Examples.">
<link rel="stylesheet" href="../../tutorial/md.css" type="text/css" media="screen, handheld" />
</HEAD><BODY>


<h2>Displaying Ensemble Grids</h2>

<h3>What types of Ensemble data are there?</h3>

<ul>
<li>control (initial analysis and/or forecast)</li>
<li>member (perturbations of the control run)</li>
<li>average (computed from members)</li>
<li>spread (computed from members)</li>
<li>probabilistic (computed from members)</li>
</ul>


<h3>Special ensemble functions</h3>

<p>GEMPAK provides a special set of functions, all of which are named beginning with <strong>ENS_</strong>, to do specific calculations over multiple members of an ensemble. The constitution of the ensemble is specified as a <strong>GDFILE</strong> entry by listing file names and aliases, separated by commas and enclosed in curly brackets <strong>{}</strong>. For specific functions available see the <strong><a target=_blank href="/gempak/">GPARM</a></strong> online documentation.</p>

<h3>Example</h3>

<p>The GFS model provides deterministic output at the 72 hour forecast time for 6 hour accumulated precipitation (P06M) and boundary layer CAPE as shown in GDPLOT2 using:</p>

<pre><code>GDFILE   = gfs004
GDATTIM  = f072
GLEVEL   = 0 ! 180:0
GVCORD   = none ! pvbl
SCALE    = 0
GDPFUN   = p06m ! cape
TYPE     = f ! c
CONTUR   = 3/3
CINT     = 300
LINE     = 2/1/2
FINT     = .25;2.5;6.35;12.7;19.05;25.4;31.75;38.1;44.45;50.8;63.5;76.2;101.6;127;152.4;177.8 
FLINE    = 0;21-30;14-20;5 
GAREA    = us
PROJ     = STR/90;-100;0  
</code></pre>

<p><img src=ens_01.gif></p>

<p>The figure above shows several large areas of precipitation with low CAPE values. We also see several areas with large cape values and little precipitation.</p>

<p>By utilizing the ensemble members, we can quantify the probability of precipitation exceeding .25mm (red contour lines), and CAPE values exceeding 500 J Kg^-2 (yellow shading) using 20 members of the global ensemble forecast system (gefs) in GDPLOT2 using:</p>

<pre><code>GDFILE   = {gefs}
GDATTIM  = f072
GLEVEL   = 0 ! 180:0
GVCORD   = none ! pvbl
SCALE    = 0
GDPFUN   = ens_prob(gt(p06m,.25)) ! ens_prob(gt(cape,500))
TYPE     = c ! f
CONTUR   = 3/3
CINT     = 0.2
LINE     = 2/1/2
FINT     =  ! .5;1.2
FLINE    =  ! 0;5/7 
</code></pre>

<p><img src=ens_02.gif></p>

<p>Observing the plot above, we can visually detect several regions where precipitation probability and CAPE values might suggest likely areas of thunderstorm activity where the two contour regions intersect. We can quantify the combined probability by using the logical operator <strong>AND()</strong> to compute the combined probability of both conditions as shown below:</p>

<pre><code>GDFILE   = {gefs}
GDATTIM  = f072
GLEVEL   = 0
GVCORD   = none
SCALE    = 0
GDPFUN   = ens_prob(and(gt(p06m,.25),gt(cape@180:0%pvbl,500)))
TYPE     = f
CONTUR   = 3/3
CINT     = 
LINE     = 
FINT     = .1/.1
FLINE    = 0;23-13/7
</code></pre>

<p><img src=ens_03.gif></p>


<script src="/gempak/add_in.js" type="text/javascript"></script>
</body>
</HTML>
